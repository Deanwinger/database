# MySQL 技术内幕的学习笔记

## 第一章
### 1.4.4 执行SQL语句
1. 除了使用分号外， 还可使用\g(意思是go)， 也可以使用\G(以垂直的方式显示结果)；

2. `\c`（如果输入了部分语句，决定不再继续）；

3. 将多条语句存在SQL脚本时， 可使用导入（可以是任意含有SQL语句的文件）
    ~~~
    -> mysql < myscript.sql
    ~~~

### 1.4.5 创建数据库
1. 创建数据库；
~~~
mysql> create database sampdb;
~~~

2. 选择数据库；
~~~
(1).方法一
    mysql> use sampdb;
(2).方法二：登录时选择
    -> mysql -u root -p sampdb
~~~

### 1.4.6 创建表
1. 创建数据表 --以美史联盟表；
~~~
    (1).方法一: 在数据库直接创建；
        mysql> create table president(
        last_name  varchar(15) not null,
        first_name varchar(15) not null,
        suffix     varchar(5) null,
        city       VARCHAR(20) NOT NULL,
        state      VARCHAR(2) NOT NULL,
        birth      DATE NOT NULL,
        death      DATE NULL
    );
    (2).方法二：通过外部文件导入；
        -> mysql -u sampadm -p sampdb < chapter_01/create_president.sql
~~~

2. 查看表状态：
~~~
(1)查看状态有多个类似的表达式：describe | desc | explain | show columns from | show fields from president;
    mysql> describe president;
~~~

3. 创建student, score, grade_event表
~~~
    CREATE TABLE score
    (
    student_id INT UNSIGNED NOT NULL,
    event_id   INT UNSIGNED NOT NULL,
    score      INT NOT NULL,
    PRIMARY KEY (event_id, student_id),
    INDEX (student_id),
    FOREIGN KEY (event_id) REFERENCES grade_event (event_id),
    FOREIGN KEY (student_id) REFERENCES student (student_id)
    ) ENGINE=InnoDB;

    注意事项：
    (1).将student_id 和 event_id 组合设置成为一个primary_key, 即student_id 和 event_id 可以重复， 但是他们的组合不能重复；
    (2). student_id 之所以会加上一个索引， 因为对于foreign_key定义里的任何列， 都应该有一个关于他们的索引， 或者他们应该是某个多列索引里被首先列出来的列，如上，在foreign_key的两列中，event_id列被优先列出来， 所以为提升查找速度，在student_id上加了一个索引(index);
~~~

    